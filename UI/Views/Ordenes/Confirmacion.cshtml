@model UI.Models.OrdenViewModel

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Órden Creada</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Premium Multipurpose Admin & Dashboard Template" name="description" />
    <meta content="Codebucks" name="author" />
    <link rel="shortcut icon" href="~/images/favicon.ico">

    <script src="~/Scripts/js/pages/layout.js"></script>
    <link rel="stylesheet" href="~/Content/css/bootstrap.css" />
    <link rel="stylesheet" href="~/Content/css/app.css" />
    <link rel="stylesheet" href="~/Content/css/icons.css" />
</head>
<body>
    <div class="container mt-5">
        <h2 class="text-success">¡Orden Creada Exitosamente!</h2>
        <p class="lead">Tu orden ha sido registrada correctamente. Aquí están los detalles:</p>

        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Orden #@Model.Orden.Orden_ID</h4>
                <p><strong>Usuario:</strong> @Model.Usuario.Nombre (@Model.Usuario.Usuario_ID)</p>
                <p><strong>Fecha:</strong> @Model.Orden.FechaOrden.ToString("dd/MM/yyyy HH:mm")</p>
                <p><strong>Estado:</strong> @Model.Orden.Estado</p>

                <h5 class="mt-3">Productos en la Orden:</h5>
                <table class="table table-bordered mt-2">
                    <thead>
                        <tr>
                            <th>Producto</th>
                            <th>Precio</th>
                            <th>Cantidad</th>
                            <th>Subtotal</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var detalle in Model.Detalles)
                        {
                            <tr>
                                <td>@detalle.NombreProducto</td>
                                <td>@detalle.PrecioUnitario</td>
                                <td>@detalle.Cantidad</td>
                                <td>@detalle.Subtotal</td>
                            </tr>
                        }
                    </tbody>
                </table>


                <h4 class="text-right"><strong>Total: </strong> @Model.Orden.Total</h4>

                <!-- Botón para regresar a Conversaciones -->
                <a href="@Url.Action("Index", "Conversaciones")" class="btn btn-primary mt-3">
                    <i class="fas fa-comments"></i> Volver a Conversaciones
                </a>
            </div>
        </div>
    </div>
</body>
</html>